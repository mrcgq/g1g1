

# Phantom Server v2.0

[![Build](https://github.com/anthropics/phantom-server/actions/workflows/build.yml/badge.svg)](https://github.com/anthropics/phantom-server/actions/workflows/build.yml)
[![Release](https://img.shields.io/github/v/release/anthropics/phantom-server)](https://github.com/anthropics/phantom-server/releases)
[![License](https://img.shields.io/github/license/anthropics/phantom-server)](LICENSE)




## æç®€ Â· æ— çŠ¶æ€ Â· æŠ—æ¢æµ‹

Phantom æ˜¯ä¸€ä¸ªæç®€çš„ UDP ä»£ç†åè®®ï¼Œä¸“ä¸ºå¯¹æŠ—ç½‘ç»œå®¡æŸ¥è®¾è®¡ã€‚




â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¾è®¡åŸåˆ™ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Zero Handshake - é¦–åŒ…å³æ•°æ®ï¼Œæ— ä»»ä½•æ¡æ‰‹ â”‚
â”‚ â€¢ Zero State - æœåŠ¡ç«¯æ— çŠ¶æ€ï¼Œæ¯åŒ…ç‹¬ç«‹éªŒè¯ â”‚
â”‚ â€¢ Zero Signature - å…¨å¯†æ–‡ä¼ è¾“ï¼Œæ— åè®®ç‰¹å¾ â”‚
â”‚ â€¢ ç®€å•ä¼˜å…ˆ - çº¦ 600 è¡Œæ ¸å¿ƒä»£ç  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




text


## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®å®‰è£…

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/anthropics/phantom-server/main/scripts/install.sh)
æ‰‹åŠ¨å®‰è£…
Bash

# ä¸‹è½½
wget https://github.com/anthropics/phantom-server/releases/latest/download/phantom-server-linux-amd64.tar.gz
tar -xzf phantom-server-linux-amd64.tar.gz

# ç”Ÿæˆ PSK
openssl rand -base64 32
# è¾“å‡º: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx==

# ç¼–è¾‘é…ç½®
cat > config.yaml << EOF
listen: ":54321"
psk: "ä½ ç”Ÿæˆçš„PSK"
time_window: 30
log_level: "info"
EOF

# è¿è¡Œ
./phantom-server -c config.yaml
ğŸ“¦ åè®®æ ¼å¼
text

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®åŒ…ç»“æ„                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UserID   â”‚ Timestampâ”‚ Nonce    â”‚ Encrypted Data  â”‚ Auth Tag     â”‚
â”‚ 4 bytes  â”‚ 2 bytes  â”‚ 12 bytes â”‚ Variable        â”‚ 16 bytes     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     æ˜æ–‡å¤´éƒ¨        â”‚              åŠ å¯†éƒ¨åˆ†                       â”‚
â”‚     (å¿«é€Ÿè¿‡æ»¤)      â”‚        (ChaCha20-Poly1305)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
TSKD (æ—¶é—´åŒæ­¥å¯†é’¥æ´¾ç”Ÿ)
text

SessionKey = HKDF(PSK, TimeWindow, "phantom-key-v2")

TimeWindow = Unixæ—¶é—´æˆ³ / 30 ç§’
æ¯ 30 ç§’å¯†é’¥è‡ªåŠ¨è½®æ¢
å…è®¸ Â±1 ä¸ªçª—å£å®¹å·®ï¼ˆå¤„ç†æ—¶é’Ÿåå·®ï¼‰
æ— éœ€æ¡æ‰‹ï¼Œé¦–åŒ…å³å¯éªŒè¯
âš™ï¸ é…ç½®è¯´æ˜
å‚æ•°	è¯´æ˜	é»˜è®¤å€¼
listen	ç›‘å¬åœ°å€	:54321
psk	Base64 ç¼–ç çš„ 32 å­—èŠ‚å¯†é’¥	å¿…å¡«
time_window	TSKD æ—¶é—´çª—å£ï¼ˆç§’ï¼‰	30
log_level	æ—¥å¿—çº§åˆ« (debug/info/error)	info
ğŸ”§ ç®¡ç†å‘½ä»¤
Bash

# ä½¿ç”¨ç®¡ç†è„šæœ¬
bash install.sh          # æ˜¾ç¤ºèœå•
bash install.sh status   # æŸ¥çœ‹çŠ¶æ€
bash install.sh link     # æ˜¾ç¤ºåˆ†äº«é“¾æ¥
bash install.sh logs     # æŸ¥çœ‹æ—¥å¿—

# ä½¿ç”¨ systemd
systemctl start phantom
systemctl stop phantom
systemctl restart phantom
systemctl status phantom
journalctl -u phantom -f
ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§
æŠ—æ¢æµ‹

å…¨å¯†æ–‡ä¼ è¾“ï¼Œæ— æ˜æ–‡ç‰¹å¾
æ— æ•ˆåŒ…é™é»˜ä¸¢å¼ƒï¼Œä¸å“åº”
æ— å›ºå®šåè®®å¤´æˆ–æ¡æ‰‹
æŠ—é‡æ”¾

Nonce å”¯ä¸€æ€§æ£€æŸ¥
æ—¶é—´æˆ³çª—å£éªŒè¯
è‡ªåŠ¨è¿‡æœŸæ¸…ç†
å¿«é€Ÿè¿‡æ»¤

UserID å‰ç½®éªŒè¯ï¼ˆ4 å­—èŠ‚ï¼‰
æ— éœ€è§£å¯†å³å¯ä¸¢å¼ƒæ— æ•ˆåŒ…
ğŸ“Š æ€§èƒ½
å†…å­˜å ç”¨ï¼šçº¦ 10-20 MB
å•æ ¸å¤„ç†ï¼š10ä¸‡+ åŒ…/ç§’
å»¶è¿Ÿå¼€é”€ï¼š< 1ms
ğŸ”¨ æ„å»º
Bash

# å®‰è£…ä¾èµ–
go mod download

# æ„å»ºå½“å‰å¹³å°
make build

# æ„å»ºæ‰€æœ‰å¹³å°
make release

# è¿è¡Œæµ‹è¯•
make test
ğŸ“„ è®¸å¯è¯
MIT License

text


---

## 9. go.sum (è¿è¡Œ `go mod tidy` è‡ªåŠ¨ç”Ÿæˆ)

```bash
go mod tidy
